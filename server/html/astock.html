{% extends "base.html" %}

{% block head %}
<title>沪深指数</title>
{% end %}

{% block wrap %}
<div id="wrap">
  <table class="table table-striped">
    <thead>
      <tr>
        <th>code</th>
        <th>name</th>
        <th>市值</th>
        <th>行业</th>
        <th>area</th>
        <th>pe</th>
        <th>流通股本</th>
        <th>总股本</th>
        <th>上市日期</th>
      </tr>
    </thead>
    <tbody>
      {% for i in data %}
      <tr>
        <th scope="row"><a href=/ohlc/astock/{{i[0]}} target="_blank">{{"%06d" % i[0]}}</a></th>
        <td>{{i[1]}}</td>
        <td>{{i[8]}}</td>
        <td>{{i[2]}}</td>
        <td>{{i[3]}}</td>
        <td>{{i[4]}}</td>
        <td>{{i[5]}}</td>
        <td>{{i[6]}}</td>
        <td>{{i[7]}}</td>
      </tr>
      {% end %}
    </tbody>
  </table>
</div>
<div>
  <nav aria-label="...">
    <ul class="pagination">

      <li class="page-item disabled">
        <a class="page-link" href="#" tabindex="-1" aria-label="Previous">
          <span aria-hidden="true">&laquo;</span>
          <span class="sr-only">Previous</span>
        </a>
      </li>

      {% for i in range(1, total_page + 1) %}
      {% if i == current_page %}
      <li class="page-item active">
        <a class="page-link" href="#">{{i}} <span class="sr-only">(current)</span></a>
      </li>
      {% else %}
      <li class="page-item"><a class="page-link" href="{{(request.uri[:request.uri.find('?')] if request.uri.find('?') >=0 else request.uri) +'?page=%s' % i}}">{{i}}</a></li>
      {% end %}
      {% end %}

      <li class="page-item">
        <a class="page-link" href="#" aria-label="Next">
          <span aria-hidden="true">&raquo;</span>
          <span class="sr-only">Next</span>
        </a>
      </li>

    </ul>
  </nav>
</div>
{% end %}
